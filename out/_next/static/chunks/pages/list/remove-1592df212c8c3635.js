(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{1794:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list/remove",function(){return r(2510)}])},4709:function(e,t,r){"use strict";var n=r(4924),i=r(5893),s=r(1664),a=r.n(s),c=r(1163),l=r(9184),o=r(6329),u=r(6897);t.Z=function(e){var t,r,s,d=e.listId,h=(0,c.useRouter)().pathname,Z=[{title:"Edit List",href:{pathname:o.Z.ADD_OR_EDIT_LIST.HREF,query:(0,n.Z)({},u.Z.ID,d)},disabled:!1},{title:"View List",href:{pathname:o.Z.LIST.HREF,query:(t={},(0,n.Z)(t,u.Z.ID,d),(0,n.Z)(t,u.Z.PAGE,1),t)},disabled:!1},{title:"Add/Remove Items",href:{pathname:o.Z.ADD_OR_REMOVE_ITEMS_AT_LIST.HREF,query:(r={},(0,n.Z)(r,u.Z.LIST_ID,d),(0,n.Z)(r,u.Z.PAGE,1),r)},disabled:!1},{title:"Choose Image",href:{pathname:o.Z.CHOOSE_LIST_IMAGE.HREF,query:(s={},(0,n.Z)(s,u.Z.LIST_ID,d),(0,n.Z)(s,u.Z.PAGE,1),s)},disabled:!1},{title:"Delete List",href:{pathname:o.Z.REMOVE_LIST.HREF,query:(0,n.Z)({},u.Z.ID,d)},disabled:!1}],f=[{title:"Step1: List Details",href:{pathname:o.Z.ADD_OR_EDIT_LIST.HREF},disabled:!1},{title:"Step2: Add Items",href:{pathname:o.Z.ADD_OR_REMOVE_ITEMS_AT_LIST.HREF},disabled:!0},{title:"Step3: Choose Image",href:{pathname:o.Z.CHOOSE_LIST_IMAGE.HREF},disabled:!0}],E=d?Z:f;return(0,i.jsx)(l.Z,{children:E.map((function(e){return(0,i.jsx)(l.e,{disabled:e.disabled,selected:h===e.href.pathname,children:(0,i.jsx)(a(),{href:e.href,children:(0,i.jsx)("a",{children:e.title})})},e.title)}))})}},2510:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(7568),i=r(4924),s=r(4051),a=r.n(s),c=r(5893),l=r(7294),o=r(1163),u=r.n(o),d=r(9008),h=r.n(d),Z=r(8278),f=r(6124),E=r(572),b=r(5430),x=r(6042),p=r(9396),m=r(9534),I=r(536),_=r.n(I),v=function(e){var t=e.children,r=(0,m.Z)(e,["children"]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",(0,p.Z)((0,x.Z)({},r),{className:"jsx-1a5cfbc5e5d9b48f "+(r&&null!=r.className&&r.className||""),children:t})),(0,c.jsx)(_(),{id:"1a5cfbc5e5d9b48f",children:"div.jsx-1a5cfbc5e5d9b48f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}div.jsx-1a5cfbc5e5d9b48f>:not(:first-child){margin-left:8px}"})]})},D=r(4709),j=r(1063),R=r(3003),S=r(9432),y=r(9715),L=r(7095),g=r(6919),k=r(9902),T=r(9679),w=r(6897),A=r(6329),O=r(6191),N=r(1389),C=(0,T.Z)((function(e){var t=e.accountId,r=e.accessToken,s=(0,o.useRouter)().query[w.Z.ID],d=(0,l.useState)(O.Z.IDLE),x=d[0],p=d[1],m=(0,l.useState)(O.Z.IDLE),I=m[0],_=m[1],T=(0,l.useState)(null),C=T[0],F=T[1],H=(0,l.useState)(!1),G=H[0],P=H[1];(0,l.useEffect)((function(){(0,n.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:if(r){e.next=4;break}return e.abrupt("return");case 4:if(t){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,p(O.Z.PENDING),e.next=10,N.Z.get("/".concat(k.Ol,"/list/").concat(s),{headers:{Authorization:"Bearer ".concat(r)}});case 10:if(n=e.sent,n.data.created_by.id!==t){e.next=16;break}p(O.Z.RESOLVED),e.next=17;break;case 16:throw new Error("You don't seem to have access to this page.");case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(6),console.log("[Remove useEffect] error => ",e.t0),p(O.Z.REJECTED),F(e.t0);case 24:case"end":return e.stop()}}),e,null,[[6,19]])})))()}),[s,r,t]);var q,M=function(){P(!1)},V=function(){var e=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(),t={Authorization:"Bearer ".concat(r)},_(O.Z.PENDING),e.next=6,N.Z.delete("/".concat(k.Ol,"/list/").concat(s),{headers:t});case 6:_(O.Z.RESOLVED),u().push({pathname:A.Z.MY_LISTS.HREF,query:(0,i.Z)({},w.Z.PAGE,1)}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("[Remove removeListHandler] error => ",e.t0),_(O.Z.REJECTED);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return x===O.Z.IDLE||x===O.Z.PENDING?(0,c.jsx)(g.Z,{}):x===O.Z.REJECTED?(0,c.jsx)(f.Z,{title:"Sorry!",subtitle:null!==(q=null===C||void 0===C?void 0:C.message)&&void 0!==q?q:"We can't find the page you're looking for..."}):x===O.Z.RESOLVED?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h(),{children:(0,c.jsx)("title",{children:"Delete List"})}),(0,c.jsx)(E.Z,{children:(0,c.jsxs)(b.Z,{children:[(0,c.jsx)(Z.Z,{title:"Delete List",subtitle:"Edit"}),(0,c.jsx)(D.Z,{listId:s}),(0,c.jsx)(R.Z,{opened:G,onClose:M,title:"Are you sure?",body:(0,c.jsx)("p",{children:"By clicking yes, this list will be permanently deleted."}),footer:(0,c.jsxs)(v,{children:[(0,c.jsx)(S.Z,{onClick:M,children:"No"}),(0,c.jsx)(S.Z,{onClick:V,children:"Yes"})]})}),(0,c.jsxs)(L.Z,{children:[(0,c.jsx)(y.Z,{htmlFor:"delete-list-button",children:"Click the button below if you are sure you want to delete this list."}),(0,c.jsx)(j.Z,{id:"delete-list-button",loading:I===O.Z.PENDING,contained:!0,title:"Delete",onClick:function(){P(!0)}})]})]})})]}):void 0}))},9679:function(e,t,r){"use strict";var n=r(6042),i=r(9396),s=r(9534),a=r(5893),c=r(6124),l=r(6015),o=r(7294);t.Z=function(e){return o.forwardRef((function(t,r){var o=(0,l.a)(),u=o.isAuthenticated,d=o.error,h=(0,s.Z)(o,["isAuthenticated","error"]);return u?(0,a.jsx)(e,(0,n.Z)((0,i.Z)((0,n.Z)({ref:r},t),{isAuthenticated:u,error:d}),h)):(0,a.jsx)(c.Z,{title:"You don't have permission to access this page!",subtitle:"You've tried to request a page that requires you to be logged in. Log in to your account."})}))}}},function(e){e.O(0,[513,859,774,888,179],(function(){return t=1794,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=remove-1592df212c8c3635.js.map