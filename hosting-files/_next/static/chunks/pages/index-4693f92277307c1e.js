(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5284)}])},2165:function(e,n,t){"use strict";var r=t(9218);n.Z=function(e){return function(n){n(e?{type:r.MJ,payload:e}:{type:r.eI})}}},5284:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(7568),a=t(4924),o=t(4051),u=t.n(o),c=t(5893),i=t(7294),s=t(9008),l=t.n(s),f=t(1163),p=t.n(f),m=t(2145),Z=t(6261),g=t(8278),y=t(572),d=t(5430),E=t(2540),v=t(6919),h=t(2165),x=t(9218),w=t(1389),_=t(6329),k=t(9902),b=function(e,n){return function(){var t=(0,r.Z)(u().mark((function t(r,a){var o,c,i,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a().general,c=o.selectedMenuItemName,i=o.staticCategories,c){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,r({type:x.IC}),s=i.filter((function(n){return n.name===e})).map((function(e){return e.id})).join(""),t.next=8,w.e.get("/".concat(k.kq,"/movie/").concat(s),{params:{page:n}});case 8:return l=t.sent,t.next=11,r({type:x.mp,payload:l.data});case 11:r({type:x.cs}),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(3),console.log("[getStaticCategoryMovies] error => ",t.t0),r({type:x.bk,payload:t.t0.response}),p().push(_.Z.ERROR.HREF);case 19:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,n){return t.apply(this,arguments)}}()},C=t(7878),N=t(2252),q=t(6897),P=t(6232),j=function(){var e=(0,m.I0)(),n=(0,m.v9)((function(e){return e.general})),t=(0,m.v9)((function(e){return e.movies})),o=(0,f.useRouter)().query,s=o[q.Z.CATEGORY],x=Number(o[q.Z.PAGE]);(0,i.useEffect)((function(){return function(){e((0,h.Z)()),e((0,C.Z)())}}),[e]),(0,i.useEffect)((function(){if(p().router.asPath===_.Z.HOME.HREF||!(0,P.Z)(o)){var e=p().query[q.Z.CATEGORY],n=p().query[q.Z.PAGE];if(e||n)if(!e&&n){var t,r=N.Z[0].name,u=n;console.log("[Home useEffect - no initial category name] query parameter update: newCategoryName, newPage => ",r,u),p().replace({query:(t={},(0,a.Z)(t,q.Z.CATEGORY,r),(0,a.Z)(t,q.Z.PAGE,u),t)})}else if(e&&!n){var c,i=e;console.log("[Home useEffect - no initial page] query parameter update: newCategoryName, newPage => ",i,1),p().replace({query:(c={},(0,a.Z)(c,q.Z.CATEGORY,i),(0,a.Z)(c,q.Z.PAGE,1),c)})}else console.log("[Home useEffect - initial category name and initial page] no query parameter update");else{var s,l=N.Z[0].name;console.log("[Home useEffect - no initial category name & no initial page] query parameter update: newCategoryName, newPage => ",l,1),p().replace({query:(s={},(0,a.Z)(s,q.Z.CATEGORY,l),(0,a.Z)(s,q.Z.PAGE,1),s)})}}}),[e,o]),(0,i.useEffect)((function(){(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s&&x){n.next=2;break}return n.abrupt("return");case 2:return Z.NY.scrollToTop({smooth:!0}),n.next=5,e((0,h.Z)(s));case 5:e(b(s,x));case 6:case"end":return n.stop()}}),n)})))()}),[s,x,e]);var w=n.base.images.secure_base_url;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l(),{children:[(0,c.jsx)("link",{rel:"preload",as:"fetch",href:"".concat(k.gP,"/").concat(k.kq,"/movie/popular?api_key=").concat(k.jQ,"&page=1"),crossOrigin:"true"}),(0,c.jsx)("title",{children:"".concat(n.selectedMenuItemName," Movies")})]}),t.loading?(0,c.jsx)(v.Z,{}):(0,c.jsx)(y.Z,{children:(0,c.jsxs)(d.Z,{children:[(0,c.jsx)(g.Z,{title:n.selectedMenuItemName,subtitle:"movies"}),(0,c.jsx)(E.Z,{movies:t,baseUrl:w})]})})]})}}},function(e){e.O(0,[261,513,723,540,1,774,888,179],(function(){return n=5557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=index-4693f92277307c1e.js.map